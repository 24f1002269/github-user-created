<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GitHub User Creation Date Lookup</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            padding-top: 50px;
            background-color: #f8f9fa;
        }
        .container {
            max-width: 600px;
        }
        .card {
            box-shadow: 0 4px 8px rgba(0,0,0,.05);
            border: none;
        }
        #github-created-at {
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 10px;
        }
        .alert {
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card p-4">
            <h1 class="mb-4 text-center">GitHub User Creation Date Lookup</h1>

            <form id="github-user-lookup" class="mb-4">
                <div class="mb-3">
                    <label for="username-input" class="form-label">GitHub Username:</label>
                    <input type="text" class="form-control" id="username-input" placeholder="e.g., octocat" required>
                </div>
                <button type="submit" class="btn btn-primary w-100">Lookup</button>
            </form>

            <div id="message-area" class="alert d-none" role="alert"></div>

            <div class="mt-3">
                <p class="mb-0 text-muted">Account Created At:</p>
                <div id="github-created-at" class="text-muted">Enter a username to see the creation date.</div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS CDN (optional for this app, but good practice) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <script>
        const form = document.getElementById('github-user-lookup');
        const usernameInput = document.getElementById('username-input');
        const messageArea = document.getElementById('message-area');
        const githubCreatedAt = document.getElementById('github-created-at');

        form.addEventListener('submit', async (event) => {
            event.preventDefault(); // Prevent default form submission

            const username = usernameInput.value.trim();
            clearMessages();
            githubCreatedAt.textContent = 'Fetching data...';
            githubCreatedAt.classList.remove('text-primary', 'text-danger');
            githubCreatedAt.classList.add('text-muted');

            if (!username) {
                showMessage('Please enter a GitHub username.', 'alert-warning');
                githubCreatedAt.textContent = 'Enter a username to see the creation date.';
                return;
            }

            try {
                const response = await fetch(`https://api.github.com/users/${username}`);
                const data = await response.json();

                if (response.ok) {
                    const createdAtDate = new Date(data.created_at);
                    // Format to YYYY-MM-DD UTC
                    const formattedDate = createdAtDate.toISOString().split('T')[0];
                    githubCreatedAt.textContent = formattedDate + ' UTC';
                    githubCreatedAt.classList.remove('text-muted');
                    githubCreatedAt.classList.add('text-primary'); // Make it stand out
                } else {
                    if (response.status === 404) {
                        showMessage(`GitHub user "${username}" not found.`, 'alert-danger');
                    } else {
                        showMessage(`Error: ${data.message || 'Could not fetch data.'}`, 'alert-danger');
                    }
                    githubCreatedAt.textContent = 'Error fetching data.';
                    githubCreatedAt.classList.remove('text-primary');
                    githubCreatedAt.classList.add('text-danger'); // Indicate error visually
                }
            } catch (error) {
                showMessage('Network error or API request failed. Please try again.', 'alert-danger');
                githubCreatedAt.textContent = 'Error fetching data.';
                githubCreatedAt.classList.remove('text-primary');
                githubCreatedAt.classList.add('text-danger'); // Indicate error visually
                console.error('Fetch error:', error);
            }
        });

        function showMessage(message, type) {
            messageArea.textContent = message;
            messageArea.className = `alert ${type}`; // Reset classes and add new type
            messageArea.classList.remove('d-none');
        }

        function clearMessages() {
            messageArea.textContent = '';
            messageArea.classList.add('d-none');
            // Ensure any previous alert type classes are removed
            messageArea.classList.remove('alert-success', 'alert-info', 'alert-warning', 'alert-danger');
        }
    </script>
</body>
</html>